# 2021. 09. 17 회의록

# 피드백

설명을 들어도 여전히 무엇을 얼마나 하는지가 명확치 않은 것 같음
지금 이 테스트 시나리오를 구체화 하려면 여러분들이 대상으로 하는 검색 페이지들의 전체 집합을 만들어야 할 것 같다.

크롤링 대상 페이지가 많아지면 어떤 문제점이 있나?


A: 홈페이지 마다 태그라던지 형식이 제각각이라 개발이 어느 정도 비슷한 페이지들을 물색중이다

그러면 확장성이 별로지 않나? 확장 가능함을 보여줄 수 있어야 할 거 같다. 
사이트 별로 태그가 다른 것들로 인해 안되는 점을 해결하는 것이 오히려 여러분들이 강조를 할 수 있는 강점으로 만들 수 있다(기술력)

=> 잘되는 케이스를 하는 것이 아니라 오히려 잘 안되는 케이스를 찾아서 해결을 해야 하는 것이 여러분들이 해야할 사항인 것 같다

챗봇을 만드는게 아니라 여러분들이 가져와서 쓰는 것이 아닌가?


A: 가져와서 쓰는건 맞기는 하지만 내부 로직은 우리들이 작성하는 것이다.

테스트를 어떻게 할 것인가?


A: 여러가지 입력 케이스를 생성하고 각각에 대해 어떤 식으로 반응하는 지 테스트를 할 예정이다.

생각하는 입력 케이스의 수량?


A: 수십개 정도의 수준이다

사전에 모든 것을 확인했다고 칩시다. 이럴 경우에 전시회에서 지나가는 사람이 입력한다고 했을 때 작동이 잘 될지가 걱정이다.
오히려 지금 이 프로젝트를 진행하고 있는 팀은 해당 챗봇에 대해 잘 알고 있지만, 전시회에는 여러가지 유형의 다양한 사람들이 있을 수 있기 때문에
여러가지 입력 테스트를 받아서 사전에 학습(?)이라던지 여러 케이스를 얻을 필요가 있다.

추천은 어떤 식으로 하는가? 


A: 
1. 사용자가 검색 하는 것 중 빈도가 가장 많은 것 순으로 추천을 하는것
2. 최신 정보가 갱신이 되면 추천을 해주는 것

어떻게 할 것인가? 실제 중구청에 게시물을 올리고 테스트를 할 것인가?


A: 더미 사이트를 만들고 게시글을 올린 뒤 이 사이트를 대상으로 크롤링을 진행해서 추천 탭에 잘 올라오는지 시연할 예정임
=> 해당 테스트를 좀 더 구체화를 해야함

예정에 따르면 프로젝트가 언제 될 거 같은가?


A: 10월 말로 보고있음


일정을 좀 더 당겨야 함. 10월 말이면 테스트가 끝나서, 시연 전 마지막 테스트를 진행하고 있어야 함.

# 논의사항

1. 테스트 시나리오 작성
2. 해야할 일 정리
3. DB와 API 문서 정리

# 회의내용

1. 테스트 시나리오 작성

어플의 각 화면에 따른 테스트 시나리오를 분담하여 작성함.

- 메인화면 : 로그인을 하지 않으면 로그인을 요청. 설정화면에서 설정한 사용자 지역의 최근 게시물? 이 캡쳐된 형태로 보여져야하고, 맨 위에 사용자의 지역이 표시되어야함

- 챗봇 : 사용자와의 인터렉션을 통해서 크롤링 정보까지 보여줘야함

- 추천 : 사용자가 설정화면에서 내용에 따라서 해당 부분을 크롤링해서 보여준다 

- 설정 화면 :  로그인이 된 경우에는 사용자가 설정할 수 있는 내용들이 있다.

2. 해야할 일 정리

'서버'
- ouuth 인증 서버 구현
- 클라이언트에서 온 사용자 질문의 의도에 따라서 크롤링한 정보 가공 후 응답할 REST API 설계
- dialogflow 요청 Intent 별로 응답 내용 작성 (크롤링을 통해 가공한 Response)
- DB 설계
- API 스펙 작성
- GCP에 서버 올리기

'크롤링'
- dialogflow에서 온 intent에 따라서 검색할 URL 정리
- 해당 URL에서 크롤링을 통해 제공할 정보 정리
- 크롤링한 정보 가공 형태 정리 (JSON)


**기능 구현**

** 메인 화면(rest api 서버 + oauth 인증 서버)
1) 로그인 여부 확인

1-1) 로그인 X

1-1-1) 정보 제공 X

1-2) 로그인 O

1-2-1) 개인 정보 중 위치 정보 access 후 해당 지자체 홈페이지 배너 크롤링 후 클라이언트에 REST API로 송신


** 챗봇 화면(webhook server + oauth 인증 서버)

0) 로그인 여부 확인
0-1) 로그인 X

0-2) 로그인 O

0-2-1) 개인 정보 중 위치 정보 access 후 해당 지자체 홈페이지로 크롤링 URL 설정

3. DB와 API 문서 정리

- DB에서는 각각 'People', 'Crawling_Data', 'Search_Record' 테이블의 개념을 잡음
- API문서는 Action Category를 각각 '로그인', '개인정보 저장하기', '메인화면 배너 가져오기', '추천화면 들어갈 때', '대화내용 받을 때', '대화 내용 최종적으로 검색될 때' 로 구분하고 각각의 카테고리에 대해 request와 response를 정의함
